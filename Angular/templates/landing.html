<div class="container-fluid">
	<br/>
	<h2 class="cent"><i class="fa fa-search"></i> Search For Beatmaps</h2>
	<h4 class="cent">Enter in a search query, and choose your ranked status and game mode to begin.</h4>
	<h4 class="cent">You can also create sharable beatmap links by using:<h4>
	<h5 class="cent">- https://eggplants.org/s/:id<h5>
	<h5 class="cent">- https://eggplants.org/b/:id<h5>
	<br/>

	<!-- Success Message -->
	<div ng-if="vm.newBeatmaps && vm.newBeatmaps.length != 0" class="col-lg-12">
		<div class="alert alert-success" >	
  			<span ng-if="vm.newBeatmaps.length < 100"><center><strong>Success!:</strong> {{vm.newBeatmaps.length}} beatmaps were found.</center></span>
			  <span ng-if="vm.newBeatmaps.length >= 100"><center><strong>Success!:</strong> {{vm.newBeatmaps.length}}+ beatmaps were found.</center></span>
		</div>
	</div>

	<div ng-if="vm.newBeatmaps && vm.newBeatmaps.length == 0" class="col-lg-12">
		<div class="alert alert-danger" >	
  			<center><strong>Failure:</strong> No beatmaps were found.</center></span>
		</div>
	</div>

	<form name="getNewBeatmaps" ng-submit="vm.getNewBeatmaps()">
		<div class="row">
			<div class="form-group center_div">
				<div class="col-xs-4">
					<label for="searchQuery" class="main-header"><i class="fa fa-wrench"></i> Search Query</label>
					<input type="text" class="form-control" id="searchQuery" aria-describedby="emailHelp" placeholder="Search for a beatmap" ng-model="vm.search" required>
					<small id="sqHelp" class="form-text text-muted">You can search an artist, song title, or even mapper.</small>
				</div>
			</div>


			<div class="form-group center_div">
				<div class="col-xs-4">
					<label for="rankedStatus" class="main-header"><i class="fa fa-star"></i> Ranked Status</label>
					<select class="form-control " id="rankedStatus" ng-model="vm.rankedStatus" ng-init="vm.rankedStatus='1'">
					<option value="1">Ranked</option>
					<option value="3">Qualified</option>
					<option value="4">Loved</option>
					<option value="null">All Maps</option>
					</select>
					<small id="rsHelp" class="form-text text-muted">Specify the ranked status.</small>
				</div>
			</div>

			<div class="form-group center_div">
				<div class="col-xs-4">
					<label for="gameMode" class="main-header"><i class="fa fa-gamepad"></i> Game Mode</label>
					<select class="form-control" id="gameMode" ng-model="vm.gameMode" ng-init="vm.gameMode='0'">
					<option value="0">osu!</option>
					<option value="1">Taiko</option>
					<option value="2">Catch The Beat</option>
					<option value="3">Mania</option>
					</select>
					<small id="gmHelp" class="form-text text-muted">Specify the Game Mode.</small>
				</div>
			</div>
		</div>
		<div ng-show="vm.gameMode == '3'">
			<br/>

			<div class="row">
				<div class="col-xs-4"></div>

				<div class="col-xs-4">
					<label for="keyCount" class="main-header"><i class="fa fa-keyboard-o"></i> Key Count</label>
					<select class="form-control" id="keyCount" ng-model="vm.keyCount" ng-init="vm.keyCount='4'">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>																		
					</select>
					<small id="gmHelp" class="form-text text-muted">Specify the amount of keys.</small>
				</div>

				<div class="col-xs-4"></div>
			</div>		
		</div>

		<div class="row">
			<br/>
		<center><button class="btn btn-success"><i class="fa fa-search"></i> Search For Beatmaps!</button></center>
		</div>
	</form>    


	<!-- Show Initial Beatmaps -->
	<div ng-if="!vm.newBeatmaps && !vm.newBeatmapsData">
		<br/>
		<div ng-repeat="beatmap in vm.initialBeatmaps track by $index">
			<div class="col-xs-12 col-sm-12 col-lg-3">
				<div class="thumbnail thumby">

					<!-- Beatmap Image -->
					<a href="http://eggplants.org/s/{{beatmap.SetID}}" target="_blank"><img class="thumb-img" style="width: 900px; height: 100px;" ng-src="https://assets.ppy.sh//beatmaps/{{beatmap.SetID}}/covers/cover.jpg?1486129185" onerror="this.onerror=null;this.src='/images/default.jpg';"></a>
					<div class="caption">
						<!-- Song Title-->
						<h4 class="thumby-caption">{{beatmap.Artist | limitTo:15 }}<span ng-if="beatmap.Artist.length > 15">...</span> - {{beatmap.Title | limitTo:15 }}<span ng-if="beatmap.Title.length > 15">...</span></h4>
						<!-- Mapper & Beatmap statistics -->
						<p><a href="http://osu.ppy.sh/u/{{beatmap.Creator}}">{{beatmap.Creator | limitTo:9}}</a><span ng-if="beatmap.Creator.length > 9">...</span>
							<!-- Check if beatmap has video or not -->
							<span ng-if="beatmap.HasVideo == false" class="badge pull-right" style="background-color: #d69508; margin-right: 10px;"><i class="fa fa-video-camera"></i> No Video</span>
							<span ng-if="beatmap.HasVideo == true" class="badge pull-right" style="background-color: #188207; margin-right: 10px;"><i class="fa fa-video-camera"></i> Video</span>
							<!-- Check if beatmap is ranked -->
							<span ng-if="beatmap.RankedStatus == 1" class="badge pull-right" style="background-color: #2d9906; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Ranked</span>
							<span ng-if="beatmap.RankedStatus == 4" class="badge pull-right" style="background-color: #c90e7b; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Loved</span>
							<span ng-if="beatmap.RankedStatus == 3" class="badge pull-right" style="background-color: #d1bb1b; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Qualified</span>
							<span ng-if="beatmap.RankedStatus == -1 || beatmap.RankedStatus == -2 || beatmap.RankedStatus == 0" class="badge pull-right" style="background-color: #2eb8d1; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Unranked</span>
							<!-- Favourites -->
							<span class="badge pull-right" style="background-color: #f972e7; margin-right: 10px;"><i class="fa fa-heart"></i> {{beatmap.Favourites}}</span> 								
						</p>

						<!-- Bottom Buttons-->
						<a href="http://eggplants.org/s/{{beatmap.SetID}}" target="_blank" class="btn btn-default btn-xs pull-right" role="button"><i class="fa fa-download"></i></a> 
						<a href="http://eggplants.org/s/{{beatmap.SetID}}" target="_blank" class="btn btn-info btn-xs" role="button">Download</a> 
						<a href="http://osu.ppy.sh/s/{{beatmap.SetID}}" target="_blank" class="btn btn-danger btn-xs" role="button">View on osu!</a>
					</div>
				</div>
			</div>	
		</div>
	</div>

	<!-- Show new beatmaps -->
	<div ng-if="vm.newBeatmaps">
		<br/>
		<div ng-repeat="beatmap in vm.newBeatmaps track by $index">
			<div class="col-xs-12 col-sm-12 col-lg-3">
				<div class="thumbnail thumby">

					<!-- Beatmap Image -->
					<a href="http://eggplants.org/s/{{beatmap.SetID}}" target="_blank"><img class="thumb-img" ng-src="https://assets.ppy.sh//beatmaps/{{beatmap.SetID}}/covers/cover.jpg?1486129185" onerror="this.src='/images/default.jpg';"></a>
					<div class="caption">
						<!-- Song Title-->
						<h4 class="thumby-caption">{{beatmap.Artist | limitTo:10 }}<span ng-if="beatmap.Artist.length > 10">...</span> - {{beatmap.Title | limitTo:10 }}<span ng-if="beatmap.Title.length > 10">...</span></h4>
						<!-- Mapper & Beatmap statistics -->
						<p><a href="http://osu.ppy.sh/u/{{beatmap.Creator}}">{{beatmap.Creator | limitTo:9}}</a><span ng-if="beatmap.Creator.length > 9">...</span>
							<!-- Check if beatmap has video or not -->
							<span ng-if="beatmap.HasVideo == false" class="badge pull-right" style="background-color: #d69508; margin-right: 10px;"><i class="fa fa-video-camera"></i> No Video</span>
							<span ng-if="beatmap.HasVideo == true" class="badge pull-right" style="background-color: #188207; margin-right: 10px;"><i class="fa fa-video-camera"></i> Video</span>
							<!-- Check if beatmap is ranked -->
							<span ng-if="beatmap.RankedStatus == 1" class="badge pull-right" style="background-color: #2d9906; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Ranked</span>
							<span ng-if="beatmap.RankedStatus == 4" class="badge pull-right" style="background-color: #c90e7b; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Loved</span>
							<span ng-if="beatmap.RankedStatus == 3" class="badge pull-right" style="background-color: #d1bb1b; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Qualified</span>
							<span ng-if="beatmap.RankedStatus == -1 || beatmap.RankedStatus == -2 || beatmap.RankedStatus == 0" class="badge pull-right" style="background-color: #2eb8d1; margin-right: 10px;"><i class="fa fa-thumbs-up"></i> Unranked</span>
							<!-- Favourites -->
							<span class="badge pull-right" style="background-color: #f972e7; margin-right: 10px;"><i class="fa fa-heart"></i> {{beatmap.Favourites}}</span> 								
						</p>

						<!-- Bottom Buttons-->
						<a href="http://eggplants.org/s/{{beatmap.SetID}}" target="_blank" class="btn btn-default btn-xs pull-right" role="button"><i class="fa fa-download"></i></a> 
						<a href="http://eggplants.org/s/{{beatmap.SetID}}" target="_blank" class="btn btn-info btn-xs" role="button">Download</a> 
						<a href="http://osu.ppy.sh/s/{{beatmap.SetID}}" target="_blank" class="btn btn-danger btn-xs" role="button">View on osu!</a>
					</div>
				</div>
			</div>	
		</div>
	</div>	



</div>    

